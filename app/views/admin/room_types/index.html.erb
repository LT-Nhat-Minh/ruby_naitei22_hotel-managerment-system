<% provide :title, t(".title") %>

<div class="admin-room-types admin-common">
  <div class="header">
    <h1><%= t(".title") %></h1>
    <div class="room-types-header-row">
      <h3 class="mb-0"><%= t(".list_title", count: @pagy.count) %></h3>
      <%= link_to t(".new"), new_admin_room_type_path, class: "btn btn-primary" %>
    </div>
  </div>

  <div class="search-section">
    <%= search_form_for @q, url: admin_room_types_path, method: :get, local: true do |f| %>
      <div class="search-form">
        <div class="search-field">
          <%= f.label :name_cont, t(".name"), class: "form-label" %>
          <%= f.search_field :name_cont, class: "form-control", placeholder: t(".name_placeholder") %>
        </div>

        <div class="search-field">
          <%= f.label :description_cont, t(".description"), class: "form-label" %>
          <%= f.search_field :description_cont, class: "form-control", placeholder: t(".description_placeholder") %>
        </div>

        <div class="search-actions">
          <%= f.submit t(".search_button"), class: "btn btn-primary" %>
          <%= link_to t(".reset_button"), admin_room_types_path, class: "btn btn-secondary" %>
        </div>
      </div>
    <% end %>
  </div>

  <div class="table-container">
    <table class="table table-striped">
      <thead>
        <tr>
          <th><%= t(".id") %></th>
          <th><%= t(".name") %></th>
          <th><%= t(".description") %></th>
          <th><%= t(".number_of_rooms") %></th>
          <th><%= t(".updated_at") %></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <%= render @room_types %>
      </tbody>
    </table>

    <% unless @room_types.empty? %>
      <div class="pagination-wrapper">
        <%== pagy_bootstrap_nav @pagy %>
        <div class="pagy-info">
          <%= t(".pagy_info", from: @pagy.from, to: @pagy.to, count: @pagy.count) %>
        </div>
      </div>
    <% end %>

    <% if @room_types.empty? %>
      <div class="empty-state">
        <i class="fas fa-calendar-times"></i>
        <h3><%= t(".no_results") %></h3>
      </div>
    <% end %>
  </div>
</div>
