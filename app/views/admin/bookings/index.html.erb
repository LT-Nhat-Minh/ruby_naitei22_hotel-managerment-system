<% provide :title, t(".title") %>

<div class="admin-bookings">
  <div class="bookings-header">
    <h1><%= t(".title") %></h1>
    <h3><%= t(".list_text", count: @pagy.count) %></h3>
  </div>

  <%= render partial: "form_search_booking" %>

  <div class="table-container">
    <table class="table table-striped">
      <thead>
        <tr>
          <th><%= t(".id") %></th>
          <th><%= t(".booking_code") %></th>
          <th><%= t(".user_name") %></th>
          <th><%= t(".status") %></th>
          <th><%= t(".total_guests") %></th>
          <th><%= t(".total_price") %></th>
          <th><%= t(".created_at") %></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <%= render partial: "booking_row", collection: @bookings, as: :booking %>
      </tbody>
    </table>

    <% unless @bookings.empty? %>
      <div class="pagination-wrapper">
        <%== pagy_bootstrap_nav @pagy %>
        <div class="pagy-info">
          <%= t(".pagy_info", from: @pagy.from, to: @pagy.to, count: @pagy.count) %>
        </div>
      </div>
    <% end %>

    <% if @bookings.empty? %>
      <div class="empty-state">
        <i class="fas fa-calendar-times"></i>
        <h3><%= t(".no_results") %></h3>
      </div>
    <% end %>
  </div>
</div>
